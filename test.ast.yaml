tag: Block
statements:
  - tag: Assignment
    lhs:
      tag: Identifier
      value: Person
    value:
      tag: TypeDef
      fieldDefs:
        - tag: FieldDef
          name: name
          type: String
          defaultValue: null
          isTypeLevel: true
        - tag: FieldDef
          name: house
          type: String
          defaultValue: null
          isTypeLevel: true
        - tag: FieldDef
          name: title
          type: String
          defaultValue: null
          isTypeLevel: true
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        tag: IDENTIFIER
        value: Person
        start:
          line: 1
          column: 1
        end:
          line: 1
          column: 7
      end:
        line: 6
        column: 1
  - tag: Assignment
    lhs:
      tag: Identifier
      value: robert
    value:
      tag: Apply
      callee:
        tag: Identifier
        value: Person
      args:
        - tag: Literal
          type: String
          value: Robert
        - tag: Literal
          type: String
          value: Baratheon
        - tag: Literal
          type: String
          value: King of the Seven Kingdoms
      isTypeLambda: undefined
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        tag: IDENTIFIER
        value: robert
        start:
          line: 6
          column: 1
        end:
          line: 6
          column: 7
      end:
        line: 7
        column: 1
  - tag: Assignment
    lhs:
      tag: Identifier
      value: hail
    value:
      tag: Lambda
      params:
        - tag: Assignment
          lhs:
            tag: Identifier
            value: p
          type:
            tag: Identifier
            value: Person
          isDeclaration: false
          isTypeLevel: false
          position:
            start:
              line: 7
              column: 9
            end:
              line: 7
              column: 21
      block:
        tag: Block
        statements:
          - tag: BinaryExpression
            left:
              tag: BinaryExpression
              left:
                tag: BinaryExpression
                left:
                  tag: BinaryExpression
                  left:
                    tag: BinaryExpression
                    left:
                      tag: BinaryExpression
                      left:
                        tag: Literal
                        type: String
                        value: Hail 
                      operator: +
                      right:
                        tag: Select
                        owner:
                          tag: Identifier
                          value: p
                        field:
                          tag: Identifier
                          value: name
                    operator: +
                    right:
                      tag: Literal
                      type: String
                      value:  of House 
                  operator: +
                  right:
                    tag: Select
                    owner:
                      tag: Identifier
                      value: p
                    field:
                      tag: Identifier
                      value: house
                operator: +
                right:
                  tag: Literal
                  type: String
                  value: , 
              operator: +
              right:
                tag: Select
                owner:
                  tag: Identifier
                  value: p
                field:
                  tag: Identifier
                  value: title
            operator: +
            right:
              tag: Literal
              type: String
              value: !
      isTypeLambda: undefined
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        tag: IDENTIFIER
        value: hail
        start:
          line: 7
          column: 1
        end:
          line: 7
          column: 5
      end:
        line: 8
        column: 1
  - tag: Assignment
    lhs:
      tag: Identifier
      value: Self
    value:
      tag: LambdaType
      parameterTypes:
        - tag: Assignment
          lhs:
            tag: Identifier
            value: T
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              tag: IDENTIFIER
              value: T
              start:
                line: 9
                column: 9
              end:
                line: 9
                column: 10
            end:
              line: 9
              column: 11
      returnType:
        tag: Identifier
        value: T
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        tag: IDENTIFIER
        value: Self
        start:
          line: 9
          column: 1
        end:
          line: 9
          column: 5
      end:
        line: 10
        column: 1
  - tag: Assignment
    lhs:
      tag: Identifier
      value: self
    value:
      tag: LambdaType
      parameterTypes:
        - tag: Assignment
          lhs:
            tag: Identifier
            value: T
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              tag: IDENTIFIER
              value: T
              start:
                line: 11
                column: 9
              end:
                line: 11
                column: 10
            end:
              line: 11
              column: 11
      returnType:
        tag: Lambda
        params:
          - tag: Assignment
            lhs:
              tag: Identifier
              value: t
            type:
              tag: Identifier
              value: T
            isDeclaration: false
            isTypeLevel: false
            position:
              start:
                line: 11
                column: 16
              end:
                line: 11
                column: 23
        block:
          tag: Block
          statements:
            - tag: Identifier
              value: t
              position:
                start:
                  tag: IDENTIFIER
                  value: t
                  start:
                    line: 11
                    column: 27
                  end:
                    line: 11
                    column: 28
                end:
                  tag: IDENTIFIER
                  value: t
                  start:
                    line: 11
                    column: 27
                  end:
                    line: 11
                    column: 28
        isTypeLambda: undefined
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        tag: IDENTIFIER
        value: self
        start:
          line: 11
          column: 1
        end:
          line: 11
          column: 5
      end:
        line: 12
        column: 1
  - tag: Assignment
    lhs:
      tag: Identifier
      value: x
    value:
      tag: Literal
      type: Number
      value: 2
    type:
      tag: Apply
      callee:
        tag: Identifier
        value: Self
      args:
        - tag: Identifier
          value: Number
          position:
            start:
              tag: IDENTIFIER
              value: Number
              start:
                line: 13
                column: 11
              end:
                line: 13
                column: 17
            end:
              tag: IDENTIFIER
              value: Number
              start:
                line: 13
                column: 11
              end:
                line: 13
                column: 17
      isTypeLambda: true
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 13
        column: 1
      end:
        line: 14
        column: 1
  - tag: Assignment
    lhs:
      tag: Identifier
      value: typedSelf
    value:
      tag: Apply
      callee:
        tag: Apply
        callee:
          tag: Identifier
          value: self
        args:
          - tag: Identifier
            value: Number
            position:
              start:
                tag: IDENTIFIER
                value: Number
                start:
                  line: 15
                  column: 18
                end:
                  line: 15
                  column: 24
              end:
                tag: IDENTIFIER
                value: Number
                start:
                  line: 15
                  column: 18
                end:
                  line: 15
                  column: 24
        isTypeLambda: true
      args:
        - tag: Literal
          type: Number
          value: 2
      isTypeLambda: undefined
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        tag: IDENTIFIER
        value: typedSelf
        start:
          line: 15
          column: 1
        end:
          line: 15
          column: 10
      end:
        line: 16
        column: 1