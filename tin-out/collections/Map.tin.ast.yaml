id: 173
tag: Block
statements:
  - id: 2
    tag: Import
    path: collections/Iterable
    position:
      start:
        line: 1
        column: 1
        absolute: 6
      end:
        line: 3
        column: 1
        absolute: 31
  - id: 4
    tag: AppliedKeyword
    keyword: external
    param:
      id: 3
      tag: Literal
      type: String
      value: 
	const JsMap = globalThis.Map;

    position:
      start:
        line: 3
        column: 1
        absolute: 39
      end:
        line: 5
        column: 1
        absolute: 80
  - id: 54
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 5
      tag: Identifier
      value: MapOps
    value:
      id: 53
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 7
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 6
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 5
              column: 11
              absolute: 91
            end:
              line: 5
              column: 13
              absolute: 92
        - id: 10
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 9
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 5
              column: 14
              absolute: 94
            end:
              line: 5
              column: 16
              absolute: 95
      returnType:
        id: 52
        tag: TypeDef
        fieldDefs:
          - id: 27
            tag: FieldDef
            name: put
            type:
              id: 25
              tag: RoundValueToValueLambda
              params:
                - id: 16
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 13
                    tag: Identifier
                    value: key
                  type:
                    id: 14
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 6
                      column: 8
                      absolute: 116
                    end:
                      line: 6
                      column: 15
                      absolute: 120
                - id: 21
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 18
                    tag: Identifier
                    value: value
                  type:
                    id: 19
                    tag: Identifier
                    value: V
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 6
                      column: 16
                      absolute: 126
                    end:
                      line: 6
                      column: 25
                      absolute: 130
              block:
                id: 24
                tag: Block
                statements:
                  - id: 23
                    tag: Identifier
                    value: This
                    position:
                      start:
                        line: 6
                        column: 29
                        absolute: 138
                      end:
                        line: 7
                        column: 1
                        absolute: 140
              explicitType: undefined
            isTypeLevel: true
            position:
              start:
                line: 7
                column: 1
                absolute: 140
              end:
                line: 7
                column: 1
                absolute: 140
          - id: 39
            tag: FieldDef
            name: get
            type:
              id: 37
              tag: RoundValueToValueLambda
              params:
                - id: 32
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 29
                    tag: Identifier
                    value: key
                  type:
                    id: 30
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 7
                      column: 8
                      absolute: 150
                    end:
                      line: 7
                      column: 15
                      absolute: 154
              block:
                id: 36
                tag: Block
                statements:
                  - id: 35
                    tag: Optional
                    doubleQuestionMark: false
                    expression:
                      id: 34
                      tag: Identifier
                      value: V
                    position:
                      start:
                        line: 7
                        column: 19
                        absolute: 159
                      end:
                        line: 8
                        column: 1
                        absolute: 162
              explicitType: undefined
            isTypeLevel: true
            position:
              start:
                line: 8
                column: 1
                absolute: 162
              end:
                line: 8
                column: 1
                absolute: 162
          - id: 50
            tag: FieldDef
            name: remove
            type:
              id: 48
              tag: RoundValueToValueLambda
              params:
                - id: 44
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 41
                    tag: Identifier
                    value: key
                  type:
                    id: 42
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 8
                      column: 11
                      absolute: 175
                    end:
                      line: 8
                      column: 18
                      absolute: 179
              block:
                id: 47
                tag: Block
                statements:
                  - id: 46
                    tag: Identifier
                    value: This
                    position:
                      start:
                        line: 8
                        column: 22
                        absolute: 187
                      end:
                        line: 10
                        column: 1
                        absolute: 191
              explicitType: undefined
            isTypeLevel: true
            position:
              start:
                line: 10
                column: 1
                absolute: 191
              end:
                line: 10
                column: 1
                absolute: 191
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 5
        column: 1
        absolute: 86
      end:
        line: 10
        column: 9
        absolute: 199
  - id: 73
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 55
      tag: Identifier
      value: MapEntry
    value:
      id: 72
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 57
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 56
            tag: Identifier
            value: A
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 10
              column: 13
              absolute: 204
            end:
              line: 10
              column: 15
              absolute: 205
        - id: 60
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 59
            tag: Identifier
            value: B
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 10
              column: 16
              absolute: 207
            end:
              line: 10
              column: 18
              absolute: 208
      returnType:
        id: 71
        tag: TypeDef
        fieldDefs:
          - id: 65
            tag: FieldDef
            name: key
            type:
              id: 63
              tag: Identifier
              value: A
            isTypeLevel: true
            position:
              start:
                line: 12
                column: 1
                absolute: 228
              end:
                line: 12
                column: 1
                absolute: 228
          - id: 69
            tag: FieldDef
            name: value
            type:
              id: 67
              tag: Identifier
              value: B
            isTypeLevel: true
            position:
              start:
                line: 14
                column: 1
                absolute: 241
              end:
                line: 14
                column: 1
                absolute: 241
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 10
        column: 1
        absolute: 199
      end:
        line: 14
        column: 4
        absolute: 244
  - id: 93
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 74
      tag: Identifier
      value: Map
    value:
      id: 92
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 76
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 75
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 14
              column: 8
              absolute: 249
            end:
              line: 14
              column: 10
              absolute: 250
        - id: 79
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 78
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 14
              column: 11
              absolute: 252
            end:
              line: 14
              column: 13
              absolute: 253
      returnType:
        id: 91
        tag: BinaryExpression
        left:
          id: 84
          tag: SquareApply
          callee:
            id: 81
            tag: Identifier
            value: MapOps
          typeArgs:
            - id: 82
              tag: Identifier
              value: K
              position:
                start:
                  line: 14
                  column: 24
                  absolute: 265
                end:
                  line: 14
                  column: 26
                  absolute: 266
            - id: 83
              tag: Identifier
              value: V
              position:
                start:
                  line: 14
                  column: 27
                  absolute: 268
                end:
                  line: 14
                  column: 29
                  absolute: 269
        operator: &
        right:
          id: 90
          tag: SquareApply
          callee:
            id: 85
            tag: Identifier
            value: Iterable
          typeArgs:
            - id: 89
              tag: SquareApply
              callee:
                id: 86
                tag: Identifier
                value: MapEntry
              typeArgs:
                0:
                  id: 87
                  tag: Identifier
                  value: K
                1:
                  id: 88
                  tag: Identifier
                  value: V
              position:
                start:
                  line: 14
                  column: 41
                  absolute: 289
                end:
                  line: 14
                  column: 56
                  absolute: 296
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 14
        column: 1
        absolute: 244
      end:
        line: 16
        column: 1
        absolute: 300
  - id: 122
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 94
      tag: Identifier
      value: Map@entry
    value:
      id: 121
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 96
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 95
            tag: Identifier
            value: A
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 16
              column: 14
              absolute: 314
            end:
              line: 16
              column: 16
              absolute: 315
        - id: 99
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 98
            tag: Identifier
            value: B
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 16
              column: 17
              absolute: 317
            end:
              line: 16
              column: 19
              absolute: 318
      block:
        id: 120
        tag: Block
        statements:
          - id: 119
            tag: RoundValueToValueLambda
            params:
              0:
                id: 104
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 101
                  tag: Identifier
                  value: key
                value: undefined
                type:
                  id: 102
                  tag: Identifier
                  value: A
                isDeclaration: false
              1:
                id: 109
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 106
                  tag: Identifier
                  value: value
                value: undefined
                type:
                  id: 107
                  tag: Identifier
                  value: B
                isDeclaration: false
            block:
              id: 118
              tag: Block
              statements:
                - id: 117
                  tag: RoundApply
                  calledInsteadOfSquare: false
                  paramOrder:
                  isFirstParamThis: false
                  isAnObjectCopy: false
                  callee:
                    id: 114
                    tag: SquareApply
                    callee:
                      id: 111
                      tag: Identifier
                      value: MapEntry
                    typeArgs:
                      - id: 112
                        tag: Identifier
                        value: A
                        position:
                          start:
                            line: 16
                            column: 54
                            absolute: 354
                          end:
                            line: 16
                            column: 56
                            absolute: 355
                      - id: 113
                        tag: Identifier
                        value: B
                        position:
                          start:
                            line: 16
                            column: 57
                            absolute: 357
                          end:
                            line: 16
                            column: 59
                            absolute: 358
                  args:
                    0:
                      - 
                      - id: 115
                        tag: Identifier
                        value: key
                        position:
                          start:
                            line: 16
                            column: 60
                            absolute: 362
                          end:
                            line: 16
                            column: 64
                            absolute: 363
                    1:
                      - 
                      - id: 116
                        tag: Identifier
                        value: value
                        position:
                          start:
                            line: 16
                            column: 65
                            absolute: 369
                          end:
                            line: 16
                            column: 71
                            absolute: 370
                  position:
                    start:
                      line: 16
                      column: 45
                      absolute: 352
                    end:
                      line: 18
                      column: 1
                      absolute: 375
            position:
              start:
                line: 16
                column: 23
                absolute: 323
              end:
                line: 18
                column: 1
                absolute: 375
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 16
        column: 1
        absolute: 309
      end:
        line: 18
        column: 1
        absolute: 375
  - id: 150
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 123
      tag: Identifier
      value: Map@of
    value:
      id: 149
      tag: Literal
      type: Any
      value: 
    type:
      id: 147
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 125
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 124
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 18
              column: 10
              absolute: 385
            end:
              line: 18
              column: 12
              absolute: 386
        - id: 128
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 127
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 18
              column: 13
              absolute: 388
            end:
              line: 18
              column: 15
              absolute: 389
      block:
        id: 146
        tag: Block
        statements:
          - id: 145
            tag: RoundValueToValueLambda
            params:
              0:
                id: 138
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 130
                  tag: Identifier
                  value: pairs
                value: undefined
                type:
                  id: 136
                  tag: SquareApply
                  callee:
                    id: 131
                    tag: Identifier
                    value: Array
                  typeArgs:
                    - id: 135
                      tag: SquareApply
                      callee:
                        id: 132
                        tag: Identifier
                        value: MapEntry
                      typeArgs:
                        0:
                          id: 133
                          tag: Identifier
                          value: K
                        1:
                          id: 134
                          tag: Identifier
                          value: B
                      position:
                        start:
                          line: 18
                          column: 33
                          absolute: 415
                        end:
                          line: 18
                          column: 48
                          absolute: 422
                isDeclaration: false
            block:
              id: 144
              tag: Block
              statements:
                - id: 143
                  tag: SquareApply
                  callee:
                    id: 140
                    tag: Identifier
                    value: Map
                  typeArgs:
                    0:
                      id: 141
                      tag: Identifier
                      value: K
                    1:
                      id: 142
                      tag: Identifier
                      value: V
                  position:
                    start:
                      line: 18
                      column: 53
                      absolute: 430
                    end:
                      line: 18
                      column: 64
                      absolute: 438
            position:
              start:
                line: 18
                column: 19
                absolute: 394
              end:
                line: 18
                column: 64
                absolute: 438
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 18
        column: 1
        absolute: 381
      end:
        line: 19
        column: 1
        absolute: 449
  - id: 165
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 151
      tag: Identifier
      value: Map@create
    value:
      id: 164
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 153
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 152
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 19
              column: 15
              absolute: 464
            end:
              line: 19
              column: 17
              absolute: 465
        - id: 156
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 155
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 19
              column: 18
              absolute: 467
            end:
              line: 19
              column: 20
              absolute: 468
      block:
        id: 163
        tag: Block
        statements:
          - id: 162
            tag: RoundApply
            calledInsteadOfSquare: false
            paramOrder:
            isFirstParamThis: false
            isAnObjectCopy: false
            callee:
              id: 161
              tag: SquareApply
              callee:
                id: 158
                tag: Identifier
                value: Map@of
              typeArgs:
                - id: 159
                  tag: Identifier
                  value: K
                  position:
                    start:
                      line: 19
                      column: 31
                      absolute: 480
                    end:
                      line: 19
                      column: 33
                      absolute: 481
                - id: 160
                  tag: Identifier
                  value: V
                  position:
                    start:
                      line: 19
                      column: 34
                      absolute: 483
                    end:
                      line: 19
                      column: 36
                      absolute: 484
            args:
            position:
              start:
                line: 19
                column: 24
                absolute: 478
              end:
                line: 21
                column: 1
                absolute: 491
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 19
        column: 1
        absolute: 459
      end:
        line: 21
        column: 1
        absolute: 491
  - id: 167
    tag: AppliedKeyword
    keyword: external
    param:
      id: 166
      tag: Literal
      type: String
      value: 
	const Map$of = (K, V) => (args) => {
		const map = new JsMap(args.Array._rawArray.map(p => [p.MapEntry.key, p.MapEntry.value]))
		const ops = MapOps(K, V)(
			function(key, value)  {
				map.set(key, value);
				return this;
			}, 
			(key) => map.get(key),
			function (key) {
				map.delete(key);
				return this;
			}
		)
		const getIterator = () => {
			const jsIterator = map.keys();
			return Iterator(MapEntry(K, V))(
				() => {
					const n = jsIterator.next();
					if (!n.done) {
						return MapEntry(K, V)(n.value, map.get(n.value))
					} else {
						return undefined;
					}
				}
			)
		}

		return _TIN_INTERSECT_OBJECTS(ops, Iterable(MapEntry(K, V))(getIterator));
	}

    position:
      start:
        line: 21
        column: 1
        absolute: 499
      end:
        line: 22
        column: 1
        absolute: 1237
  - id: 172
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 168
      tag: Identifier
      value: y
    value:
      id: 171
      tag: BinaryExpression
      left:
        id: 169
        tag: Literal
        type: Number
        value: 1
      operator: +
      right:
        id: 170
        tag: Literal
        type: Number
        value: 4
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 22
        column: 1
        absolute: 1238
      end:
        line: 24
        column: 1
        absolute: 1250