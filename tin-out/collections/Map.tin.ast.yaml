id: 197
tag: Block
statements:
  - id: 31
    tag: Import
    path: collections/Iterable
    position:
      start:
        line: 1
        column: 1
        absolute: 6
      end:
        line: 3
        column: 1
        absolute: 31
  - id: 33
    tag: AppliedKeyword
    keyword: external
    param:
      id: 32
      tag: Literal
      type: String
      value: 
	const JsMap = globalThis.Map;

    position:
      start:
        line: 3
        column: 1
        absolute: 39
      end:
        line: 5
        column: 7
        absolute: 86
  - id: 83
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 34
      tag: Identifier
      value: MapOps
    value:
      id: 82
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 36
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 35
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 5
              column: 11
              absolute: 91
            end:
              line: 5
              column: 13
              absolute: 92
        - id: 39
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 38
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 5
              column: 14
              absolute: 94
            end:
              line: 5
              column: 16
              absolute: 95
      returnType:
        id: 81
        tag: TypeDef
        fieldDefs:
          - id: 56
            tag: FieldDef
            name: put
            type:
              id: 54
              tag: RoundValueToValueLambda
              params:
                - id: 45
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 42
                    tag: Identifier
                    value: key
                  type:
                    id: 43
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 6
                      column: 8
                      absolute: 116
                    end:
                      line: 6
                      column: 15
                      absolute: 120
                - id: 50
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 47
                    tag: Identifier
                    value: value
                  type:
                    id: 48
                    tag: Identifier
                    value: V
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 6
                      column: 16
                      absolute: 126
                    end:
                      line: 6
                      column: 25
                      absolute: 130
              block:
                id: 53
                tag: Block
                statements:
                  - id: 52
                    tag: Identifier
                    value: This
                    position:
                      start:
                        line: 6
                        column: 29
                        absolute: 138
                      end:
                        line: 7
                        column: 5
                        absolute: 144
              explicitType: undefined
            isTypeLevel: true
            position:
              start:
                line: 7
                column: 2
                absolute: 144
              end:
                line: 7
                column: 5
                absolute: 144
          - id: 68
            tag: FieldDef
            name: get
            type:
              id: 66
              tag: RoundValueToValueLambda
              params:
                - id: 61
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 58
                    tag: Identifier
                    value: key
                  type:
                    id: 59
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 7
                      column: 8
                      absolute: 150
                    end:
                      line: 7
                      column: 15
                      absolute: 154
              block:
                id: 65
                tag: Block
                statements:
                  - id: 64
                    tag: Optional
                    doubleQuestionMark: false
                    expression:
                      id: 63
                      tag: Identifier
                      value: V
                    position:
                      start:
                        line: 7
                        column: 19
                        absolute: 159
                      end:
                        line: 8
                        column: 1
                        absolute: 162
              explicitType: undefined
            isTypeLevel: true
            position:
              start:
                line: 8
                column: 2
                absolute: 169
              end:
                line: 8
                column: 8
                absolute: 169
          - id: 79
            tag: FieldDef
            name: remove
            type:
              id: 77
              tag: RoundValueToValueLambda
              params:
                - id: 73
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 70
                    tag: Identifier
                    value: key
                  type:
                    id: 71
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 8
                      column: 11
                      absolute: 175
                    end:
                      line: 8
                      column: 18
                      absolute: 179
              block:
                id: 76
                tag: Block
                statements:
                  - id: 75
                    tag: Identifier
                    value: This
                    position:
                      start:
                        line: 8
                        column: 22
                        absolute: 187
                      end:
                        line: 10
                        column: 1
                        absolute: 191
              explicitType: undefined
            isTypeLevel: true
            position:
              start:
                line: 10
                column: 1
                absolute: 191
              end:
                line: 10
                column: 1
                absolute: 191
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 5
        column: 1
        absolute: 86
      end:
        line: 10
        column: 9
        absolute: 199
  - id: 102
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 84
      tag: Identifier
      value: MapEntry
    value:
      id: 101
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 86
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 85
            tag: Identifier
            value: A
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 10
              column: 13
              absolute: 204
            end:
              line: 10
              column: 15
              absolute: 205
        - id: 89
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 88
            tag: Identifier
            value: B
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 10
              column: 16
              absolute: 207
            end:
              line: 10
              column: 18
              absolute: 208
      returnType:
        id: 100
        tag: TypeDef
        fieldDefs:
          - id: 94
            tag: FieldDef
            name: key
            type:
              id: 92
              tag: Identifier
              value: A
            isTypeLevel: true
            position:
              start:
                line: 12
                column: 2
                absolute: 234
              end:
                line: 12
                column: 7
                absolute: 234
          - id: 98
            tag: FieldDef
            name: value
            type:
              id: 96
              tag: Identifier
              value: B
            isTypeLevel: true
            position:
              start:
                line: 14
                column: 1
                absolute: 241
              end:
                line: 14
                column: 1
                absolute: 241
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 10
        column: 1
        absolute: 199
      end:
        line: 14
        column: 4
        absolute: 244
  - id: 122
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 103
      tag: Identifier
      value: Map
    value:
      id: 121
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 105
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 104
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 14
              column: 8
              absolute: 249
            end:
              line: 14
              column: 10
              absolute: 250
        - id: 108
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 107
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 14
              column: 11
              absolute: 252
            end:
              line: 14
              column: 13
              absolute: 253
      returnType:
        id: 120
        tag: BinaryExpression
        left:
          id: 113
          tag: SquareApply
          callee:
            id: 110
            tag: Identifier
            value: MapOps
          typeArgs:
            - id: 111
              tag: Identifier
              value: K
              position:
                start:
                  line: 14
                  column: 24
                  absolute: 265
                end:
                  line: 14
                  column: 26
                  absolute: 266
            - id: 112
              tag: Identifier
              value: V
              position:
                start:
                  line: 14
                  column: 27
                  absolute: 268
                end:
                  line: 14
                  column: 29
                  absolute: 269
        operator: &
        right:
          id: 119
          tag: SquareApply
          callee:
            id: 114
            tag: Identifier
            value: Iterable
          typeArgs:
            - id: 118
              tag: SquareApply
              callee:
                id: 115
                tag: Identifier
                value: MapEntry
              typeArgs:
                0:
                  id: 116
                  tag: Identifier
                  value: K
                1:
                  id: 117
                  tag: Identifier
                  value: V
              position:
                start:
                  line: 14
                  column: 41
                  absolute: 289
                end:
                  line: 14
                  column: 56
                  absolute: 296
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 14
        column: 1
        absolute: 244
      end:
        line: 16
        column: 10
        absolute: 309
  - id: 151
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 123
      tag: Identifier
      value: Map@entry
    value:
      id: 150
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 125
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 124
            tag: Identifier
            value: A
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 16
              column: 14
              absolute: 314
            end:
              line: 16
              column: 16
              absolute: 315
        - id: 128
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 127
            tag: Identifier
            value: B
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 16
              column: 17
              absolute: 317
            end:
              line: 16
              column: 19
              absolute: 318
      block:
        id: 149
        tag: Block
        statements:
          - id: 148
            tag: RoundValueToValueLambda
            params:
              0:
                id: 133
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 130
                  tag: Identifier
                  value: key
                value: undefined
                type:
                  id: 131
                  tag: Identifier
                  value: A
                isDeclaration: false
              1:
                id: 138
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 135
                  tag: Identifier
                  value: value
                value: undefined
                type:
                  id: 136
                  tag: Identifier
                  value: B
                isDeclaration: false
            block:
              id: 147
              tag: Block
              statements:
                - id: 146
                  tag: RoundApply
                  calledInsteadOfSquare: false
                  paramOrder:
                  isFirstParamThis: false
                  isAnObjectCopy: false
                  callee:
                    id: 143
                    tag: SquareApply
                    callee:
                      id: 140
                      tag: Identifier
                      value: MapEntry
                    typeArgs:
                      - id: 141
                        tag: Identifier
                        value: A
                        position:
                          start:
                            line: 16
                            column: 54
                            absolute: 354
                          end:
                            line: 16
                            column: 56
                            absolute: 355
                      - id: 142
                        tag: Identifier
                        value: B
                        position:
                          start:
                            line: 16
                            column: 57
                            absolute: 357
                          end:
                            line: 16
                            column: 59
                            absolute: 358
                  args:
                    0:
                      - 
                      - id: 144
                        tag: Identifier
                        value: key
                        position:
                          start:
                            line: 16
                            column: 60
                            absolute: 362
                          end:
                            line: 16
                            column: 64
                            absolute: 363
                    1:
                      - 
                      - id: 145
                        tag: Identifier
                        value: value
                        position:
                          start:
                            line: 16
                            column: 65
                            absolute: 369
                          end:
                            line: 16
                            column: 71
                            absolute: 370
                  position:
                    start:
                      line: 16
                      column: 45
                      absolute: 352
                    end:
                      line: 18
                      column: 7
                      absolute: 381
            position:
              start:
                line: 16
                column: 23
                absolute: 323
              end:
                line: 18
                column: 7
                absolute: 381
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 16
        column: 1
        absolute: 309
      end:
        line: 18
        column: 7
        absolute: 381
  - id: 179
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 152
      tag: Identifier
      value: Map@of
    value:
      id: 178
      tag: Literal
      type: Any
      value: 
    type:
      id: 176
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 154
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 153
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 18
              column: 10
              absolute: 385
            end:
              line: 18
              column: 12
              absolute: 386
        - id: 157
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 156
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 18
              column: 13
              absolute: 388
            end:
              line: 18
              column: 15
              absolute: 389
      block:
        id: 175
        tag: Block
        statements:
          - id: 174
            tag: RoundValueToValueLambda
            params:
              0:
                id: 167
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 159
                  tag: Identifier
                  value: pairs
                value: undefined
                type:
                  id: 165
                  tag: SquareApply
                  callee:
                    id: 160
                    tag: Identifier
                    value: Array
                  typeArgs:
                    - id: 164
                      tag: SquareApply
                      callee:
                        id: 161
                        tag: Identifier
                        value: MapEntry
                      typeArgs:
                        0:
                          id: 162
                          tag: Identifier
                          value: K
                        1:
                          id: 163
                          tag: Identifier
                          value: B
                      position:
                        start:
                          line: 18
                          column: 33
                          absolute: 415
                        end:
                          line: 18
                          column: 48
                          absolute: 422
                isDeclaration: false
            block:
              id: 173
              tag: Block
              statements:
                - id: 172
                  tag: SquareApply
                  callee:
                    id: 169
                    tag: Identifier
                    value: Map
                  typeArgs:
                    0:
                      id: 170
                      tag: Identifier
                      value: K
                    1:
                      id: 171
                      tag: Identifier
                      value: V
                  position:
                    start:
                      line: 18
                      column: 53
                      absolute: 430
                    end:
                      line: 18
                      column: 64
                      absolute: 438
            position:
              start:
                line: 18
                column: 19
                absolute: 394
              end:
                line: 18
                column: 64
                absolute: 438
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 18
        column: 1
        absolute: 381
      end:
        line: 19
        column: 11
        absolute: 459
  - id: 194
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 180
      tag: Identifier
      value: Map@create
    value:
      id: 193
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 182
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 181
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 19
              column: 15
              absolute: 464
            end:
              line: 19
              column: 17
              absolute: 465
        - id: 185
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 184
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 19
              column: 18
              absolute: 467
            end:
              line: 19
              column: 20
              absolute: 468
      block:
        id: 192
        tag: Block
        statements:
          - id: 191
            tag: RoundApply
            calledInsteadOfSquare: false
            paramOrder:
            isFirstParamThis: false
            isAnObjectCopy: false
            callee:
              id: 190
              tag: SquareApply
              callee:
                id: 187
                tag: Identifier
                value: Map@of
              typeArgs:
                - id: 188
                  tag: Identifier
                  value: K
                  position:
                    start:
                      line: 19
                      column: 31
                      absolute: 480
                    end:
                      line: 19
                      column: 33
                      absolute: 481
                - id: 189
                  tag: Identifier
                  value: V
                  position:
                    start:
                      line: 19
                      column: 34
                      absolute: 483
                    end:
                      line: 19
                      column: 36
                      absolute: 484
            args:
            position:
              start:
                line: 19
                column: 24
                absolute: 478
              end:
                line: 21
                column: 9
                absolute: 499
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 19
        column: 1
        absolute: 459
      end:
        line: 21
        column: 9
        absolute: 499
  - id: 196
    tag: AppliedKeyword
    keyword: external
    param:
      id: 195
      tag: Literal
      type: String
      value: 
	const Map$of = (K, V) => (args) => {
		const map = new JsMap(args.Array._rawArray.map(p => [p.MapEntry.key, p.MapEntry.value]))
		const ops = MapOps(K, V)(
			function(key, value)  {
				map.set(key, value);
				return this;
			}, 
			(key) => map.get(key),
			function (key) {
				map.delete(key);
				return this;
			}
		)
		const getIterator = () => {
			const jsIterator = map.keys();
			return Iterator(MapEntry(K, V))(
				() => {
					const n = jsIterator.next();
					if (!n.done) {
						return MapEntry(K, V)(n.value, map.get(n.value))
					} else {
						return undefined;
					}
				}
			)
		}

		return _TIN_INTERSECT_OBJECTS(ops, Iterable(MapEntry(K, V))(getIterator));
	}

    position:
      start:
        line: 21
        column: 1
        absolute: 499
      end: 0