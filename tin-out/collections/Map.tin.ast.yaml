id: 616
tag: Block
skipReturn: false
statements:
  - id: 479
    tag: Import
    path: collections/Iterable
    position:
      start:
        line: 1
        column: 1
        absolute: 6
      end:
        line: 3
        column: 1
        absolute: 31
  - id: 481
    tag: AppliedKeyword
    keyword: external
    param:
      id: 480
      tag: Literal
      isTypeLiteral: false
      type: String
      value: 
	const JsMap = globalThis.Map;

    position:
      start:
        line: 3
        column: 1
        absolute: 39
      end:
        line: 5
        column: 7
        absolute: 86
  - id: 531
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 482
      tag: Identifier
      value: MapOps
    value:
      id: 530
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 484
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 483
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 5
              column: 11
              absolute: 91
            end:
              line: 5
              column: 13
              absolute: 92
        - id: 487
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 486
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 5
              column: 14
              absolute: 94
            end:
              line: 5
              column: 16
              absolute: 95
      returnType:
        id: 529
        tag: TypeDef
        fieldDefs:
          - id: 504
            tag: FieldDef
            name: put
            type:
              id: 502
              tag: RoundValueToValueLambda
              params:
                - id: 493
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 490
                    tag: Identifier
                    value: key
                  type:
                    id: 491
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 6
                      column: 8
                      absolute: 116
                    end:
                      line: 6
                      column: 15
                      absolute: 120
                - id: 498
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 495
                    tag: Identifier
                    value: value
                  type:
                    id: 496
                    tag: Identifier
                    value: V
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 6
                      column: 16
                      absolute: 126
                    end:
                      line: 6
                      column: 25
                      absolute: 130
              block:
                id: 501
                tag: Block
                skipReturn: false
                statements:
                  - id: 500
                    tag: Identifier
                    value: This
                    position:
                      start:
                        line: 6
                        column: 29
                        absolute: 138
                      end:
                        line: 7
                        column: 5
                        absolute: 144
              specifiedType: undefined
            isTypeLevel: true
            position:
              start:
                line: 7
                column: 2
                absolute: 144
              end:
                line: 7
                column: 5
                absolute: 144
          - id: 516
            tag: FieldDef
            name: get
            type:
              id: 514
              tag: RoundValueToValueLambda
              params:
                - id: 509
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 506
                    tag: Identifier
                    value: key
                  type:
                    id: 507
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 7
                      column: 8
                      absolute: 150
                    end:
                      line: 7
                      column: 15
                      absolute: 154
              block:
                id: 513
                tag: Block
                skipReturn: false
                statements:
                  - id: 512
                    tag: Optional
                    doubleQuestionMark: false
                    expression:
                      id: 511
                      tag: Identifier
                      value: V
                    position:
                      start:
                        line: 7
                        column: 19
                        absolute: 159
                      end:
                        line: 8
                        column: 1
                        absolute: 162
              specifiedType: undefined
            isTypeLevel: true
            position:
              start:
                line: 8
                column: 2
                absolute: 169
              end:
                line: 8
                column: 8
                absolute: 169
          - id: 527
            tag: FieldDef
            name: remove
            type:
              id: 525
              tag: RoundValueToValueLambda
              params:
                - id: 521
                  tag: Assignment
                  isMutable: false
                  isParameter: true
                  lhs:
                    id: 518
                    tag: Identifier
                    value: key
                  type:
                    id: 519
                    tag: Identifier
                    value: K
                  isDeclaration: false
                  isTypeLevel: false
                  position:
                    start:
                      line: 8
                      column: 11
                      absolute: 175
                    end:
                      line: 8
                      column: 18
                      absolute: 179
              block:
                id: 524
                tag: Block
                skipReturn: false
                statements:
                  - id: 523
                    tag: Identifier
                    value: This
                    position:
                      start:
                        line: 8
                        column: 22
                        absolute: 187
                      end:
                        line: 10
                        column: 1
                        absolute: 191
              specifiedType: undefined
            isTypeLevel: true
            position:
              start:
                line: 10
                column: 1
                absolute: 191
              end:
                line: 10
                column: 1
                absolute: 191
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 5
        column: 1
        absolute: 86
      end:
        line: 10
        column: 9
        absolute: 199
  - id: 550
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 532
      tag: Identifier
      value: MapEntry
    value:
      id: 549
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 534
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 533
            tag: Identifier
            value: A
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 10
              column: 13
              absolute: 204
            end:
              line: 10
              column: 15
              absolute: 205
        - id: 537
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 536
            tag: Identifier
            value: B
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 10
              column: 16
              absolute: 207
            end:
              line: 10
              column: 18
              absolute: 208
      returnType:
        id: 548
        tag: TypeDef
        fieldDefs:
          - id: 542
            tag: FieldDef
            name: key
            type:
              id: 540
              tag: Identifier
              value: A
            isTypeLevel: true
            position:
              start:
                line: 12
                column: 2
                absolute: 234
              end:
                line: 12
                column: 7
                absolute: 234
          - id: 546
            tag: FieldDef
            name: value
            type:
              id: 544
              tag: Identifier
              value: B
            isTypeLevel: true
            position:
              start:
                line: 14
                column: 1
                absolute: 241
              end:
                line: 14
                column: 1
                absolute: 241
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 10
        column: 1
        absolute: 199
      end:
        line: 14
        column: 4
        absolute: 244
  - id: 570
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 551
      tag: Identifier
      value: Map
    value:
      id: 569
      tag: SquareTypeToTypeLambda
      parameterTypes:
        - id: 553
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 552
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 14
              column: 8
              absolute: 249
            end:
              line: 14
              column: 10
              absolute: 250
        - id: 556
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 555
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 14
              column: 11
              absolute: 252
            end:
              line: 14
              column: 13
              absolute: 253
      returnType:
        id: 568
        tag: BinaryExpression
        left:
          id: 561
          tag: SquareApply
          callee:
            id: 558
            tag: Identifier
            value: MapOps
          typeArgs:
            - id: 559
              tag: Identifier
              value: K
              position:
                start:
                  line: 14
                  column: 24
                  absolute: 265
                end:
                  line: 14
                  column: 26
                  absolute: 266
            - id: 560
              tag: Identifier
              value: V
              position:
                start:
                  line: 14
                  column: 27
                  absolute: 268
                end:
                  line: 14
                  column: 29
                  absolute: 269
        operator: &
        right:
          id: 567
          tag: SquareApply
          callee:
            id: 562
            tag: Identifier
            value: Iterable
          typeArgs:
            - id: 566
              tag: SquareApply
              callee:
                id: 563
                tag: Identifier
                value: MapEntry
              typeArgs:
                0:
                  id: 564
                  tag: Identifier
                  value: K
                1:
                  id: 565
                  tag: Identifier
                  value: V
              position:
                start:
                  line: 14
                  column: 41
                  absolute: 289
                end:
                  line: 14
                  column: 56
                  absolute: 296
    isDeclaration: true
    isTypeLevel: true
    position:
      start:
        line: 14
        column: 1
        absolute: 244
      end:
        line: 18
        column: 7
        absolute: 383
  - id: 598
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 571
      tag: Identifier
      value: Map@of
    value:
      id: 597
      tag: Literal
      isTypeLiteral: false
      type: Anything
      value: 
    type:
      id: 595
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 573
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 572
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 18
              column: 10
              absolute: 387
            end:
              line: 18
              column: 12
              absolute: 388
        - id: 576
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 575
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 18
              column: 13
              absolute: 390
            end:
              line: 18
              column: 15
              absolute: 391
      block:
        id: 594
        tag: Block
        skipReturn: false
        statements:
          - id: 593
            tag: RoundValueToValueLambda
            params:
              0:
                id: 586
                tag: Assignment
                isMutable: false
                isParameter: true
                lhs:
                  id: 578
                  tag: Identifier
                  value: pairs
                value: undefined
                type:
                  id: 584
                  tag: SquareApply
                  callee:
                    id: 579
                    tag: Identifier
                    value: Array
                  typeArgs:
                    - id: 583
                      tag: SquareApply
                      callee:
                        id: 580
                        tag: Identifier
                        value: MapEntry
                      typeArgs:
                        0:
                          id: 581
                          tag: Identifier
                          value: K
                        1:
                          id: 582
                          tag: Identifier
                          value: B
                      position:
                        start:
                          line: 18
                          column: 33
                          absolute: 417
                        end:
                          line: 18
                          column: 48
                          absolute: 424
                isDeclaration: false
            block:
              id: 592
              tag: Block
              skipReturn: false
              statements:
                - id: 591
                  tag: SquareApply
                  callee:
                    id: 588
                    tag: Identifier
                    value: Map
                  typeArgs:
                    0:
                      id: 589
                      tag: Identifier
                      value: K
                    1:
                      id: 590
                      tag: Identifier
                      value: V
                  position:
                    start:
                      line: 18
                      column: 53
                      absolute: 432
                    end:
                      line: 18
                      column: 64
                      absolute: 440
            position:
              start:
                line: 18
                column: 19
                absolute: 396
              end:
                line: 18
                column: 64
                absolute: 440
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 18
        column: 1
        absolute: 383
      end:
        line: 19
        column: 11
        absolute: 461
  - id: 613
    tag: Assignment
    isMutable: false
    isParameter: false
    lhs:
      id: 599
      tag: Identifier
      value: Map@create
    value:
      id: 612
      tag: SquareTypeToValueLambda
      parameterTypes:
        - id: 601
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 600
            tag: Identifier
            value: K
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 19
              column: 15
              absolute: 466
            end:
              line: 19
              column: 17
              absolute: 467
        - id: 604
          tag: Assignment
          isMutable: false
          isParameter: true
          lhs:
            id: 603
            tag: Identifier
            value: V
          isDeclaration: false
          isTypeLevel: true
          position:
            start:
              line: 19
              column: 18
              absolute: 469
            end:
              line: 19
              column: 20
              absolute: 470
      block:
        id: 611
        tag: Block
        skipReturn: false
        statements:
          - id: 610
            tag: RoundApply
            calledInsteadOfSquare: false
            paramOrder:
            isFirstParamThis: false
            isAnObjectCopy: false
            isCallingAConstructor: false
            callee:
              id: 609
              tag: SquareApply
              callee:
                id: 606
                tag: Identifier
                value: Map@of
              typeArgs:
                - id: 607
                  tag: Identifier
                  value: K
                  position:
                    start:
                      line: 19
                      column: 31
                      absolute: 482
                    end:
                      line: 19
                      column: 33
                      absolute: 483
                - id: 608
                  tag: Identifier
                  value: V
                  position:
                    start:
                      line: 19
                      column: 34
                      absolute: 485
                    end:
                      line: 19
                      column: 36
                      absolute: 486
            args:
            position:
              start:
                line: 19
                column: 24
                absolute: 480
              end:
                line: 21
                column: 9
                absolute: 501
    isDeclaration: true
    isTypeLevel: false
    position:
      start:
        line: 19
        column: 1
        absolute: 461
      end:
        line: 21
        column: 9
        absolute: 501
  - id: 615
    tag: AppliedKeyword
    keyword: external
    param:
      id: 614
      tag: Literal
      isTypeLiteral: false
      type: String
      value: 
	const Map$of = (K, V) => (args) => {
		const map = new JsMap(args.Array._rawArray.map(p => [p.MapEntry.key, p.MapEntry.value]))
		const ops = MapOps(K, V)(
			function(key, value)  {
				map.set(key, value);
				return this;
			}, 
			(key) => map.get(key),
			function (key) {
				map.delete(key);
				return this;
			}
		)
		const getIterator = () => {
			const jsIterator = map.keys();
			return Iterator(MapEntry(K, V))(
				() => {
					const n = jsIterator.next();
					if (!n.done) {
						return MapEntry(K, V)(n.value, map.get(n.value))
					} else {
						return undefined;
					}
				}
			)
		}

		return _TIN_INTERSECT_OBJECTS(ops, Iterable(MapEntry(K, V))(getIterator));
	}

    position:
      start:
        line: 21
        column: 1
        absolute: 501
      end: 0